<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Input Debug Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ccc; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; }
        .hidden-input { display: none; }
        .result { margin-top: 10px; padding: 10px; background: #f0f0f0; }
    </style>
</head>
<body>
    <h1>File Input Debug Test</h1>

    <div class="test-section">
        <h3>Test 1: Basic file input (no multiple)</h3>
        <button onclick="document.getElementById('test1').click()">Choose File (Single)</button>
        <input type="file" id="test1" class="hidden-input" accept="image/*,application/pdf">
        <div id="result1" class="result">No file selected</div>
    </div>

    <div class="test-section">
        <h3>Test 2: File input with multiple</h3>
        <button onclick="document.getElementById('test2').click()">Choose Files (Multiple)</button>
        <input type="file" id="test2" class="hidden-input" accept="image/*,application/pdf" multiple>
        <div id="result2" class="result">No files selected</div>
    </div>

    <div class="test-section">
        <h3>Test 3: Camera input</h3>
        <button onclick="document.getElementById('test3').click()">Take Photo</button>
        <input type="file" id="test3" class="hidden-input" accept="image/*" capture="environment">
        <div id="result3" class="result">No photo taken</div>
    </div>

    <div class="test-section">
        <h3>Test 4: Gallery input (images only)</h3>
        <button onclick="document.getElementById('test4').click()">Choose from Gallery</button>
        <input type="file" id="test4" class="hidden-input" accept="image/*">
        <div id="result4" class="result">No image selected</div>
    </div>

    <script>
        function setupTest(inputId, resultId) {
            const input = document.getElementById(inputId);
            const result = document.getElementById(resultId);

            input.addEventListener('change', function(e) {
                if (e.target.files && e.target.files.length > 0) {
                    const files = Array.from(e.target.files);
                    const fileInfo = files.map(f => `${f.name} (${f.type})`).join(', ');
                    result.innerHTML = `Selected: ${fileInfo}`;
                    result.style.background = '#d4edda';
                    console.log('Files selected:', files);
                } else {
                    result.innerHTML = 'No file selected';
                    result.style.background = '#f8d7da';
                }
            });
        }

        // Setup all tests
        setupTest('test1', 'result1');
        setupTest('test2', 'result2');
        setupTest('test3', 'result3');
        setupTest('test4', 'result4');

        console.log('Debug test page loaded');
    </script>
</body>
</html>